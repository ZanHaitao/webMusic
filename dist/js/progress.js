!function(t){function e(t){this.progressTimer=null,this.duration=t,this.init()}function r(t,e){this.drag=t,this.frontBg=e,this.startX=0,this.leftX=0,this.disX=0,this.init()}e.prototype={init:function(){this.initDom(),this.render()},initDom:function(){this.curTime=document.querySelector(".curTime"),this.endTime=document.querySelector(".endTime"),this.circle=document.querySelector(".circle"),this.frontBg=document.querySelector(".frontBg")},render:function(){var t=parseInt(this.duration/60)+"",e=this.duration%60+"";this.endTime.innerHTML=t.padStart(2,"0")+":"+e.padStart(2,"0")},start:function(){var t=this;this.progressTimer||(this.progressTimer=setInterval(function(){console.log("1"),t.changeNowProgress(player.audio.audio.currentTime)},1e3/60))},stop:function(){clearInterval(this.progressTimer),this.progressTimer=null},changeNowProgress:function(t){var e=(t=parseInt(t))%60+"",r=(parseInt(t/60)+"").padStart(2,"0")+":"+e.padStart(2,"0"),i=t/this.duration*100,n=t/this.duration*this.circle.parentNode.offsetWidth;this.curTime.innerHTML!==r&&(this.curTime.innerHTML=r,this.frontBg.style.width=i+"%",this.circle.style.left=n+"px")}},r.prototype={init:function(){var i=this;this.drag.style.left="0px",this.drag.addEventListener("touchstart",function(t){i.startX=t.changedTouches[0].pageX,i.leftX=parseFloat(this.style.left),i.start&&i.start()}),this.drag.addEventListener("touchmove",function(t){i.disX=t.changedTouches[0].pageX-i.startX;var e=i.disX+i.leftX;e<0?e=0:e>i.drag.parentNode.offsetWidth&&(e=i.drag.parentNode.offsetWidth),i.drag.style.left=e+"px";var r=e/i.drag.parentNode.offsetWidth*100;i.frontBg.style.width=r+"%",i.move&&i.move(r)}),this.drag.addEventListener("touchend",function(t){i.end&&i.end()})}},t.progress={progress:function(t){return new e(t)},drag:function(t,e){return new r(t,e)}}}(window.player||(window.player={}));